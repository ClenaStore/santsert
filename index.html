<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>SIM Contabilidade – Home</title>
<style>
:root{
  --blue:#103a6f; --blue2:#0e2b50; --gold:#f3c63a; --bg:#f7fafc; --text:#0f172a;
  --muted:#64748b; --card:#fff; --line:#e5e7eb; --accent:#2563eb;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box} html,body{margin:0}
body{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
a{text-decoration:none;color:inherit} img{max-width:100%;display:block}

/* ===== LOADER ===== */
.loader{position:fixed;inset:0;background:#fff;display:grid;place-items:center;z-index:9999;transition:opacity .4s ease,visibility .4s ease}
.loader.hidden{opacity:0;visibility:hidden;pointer-events:none}
.loader .box{display:flex;flex-direction:column;align-items:center;gap:22px;text-align:center;padding:24px}
.loader .brand{width:clamp(160px,24vw,260px);height:auto;filter:drop-shadow(0 8px 18px rgba(0,0,0,.18))}
.loader .dots{display:flex;gap:10px}
.loader .dot{width:14px;height:14px;border-radius:999px;background:var(--gold);animation:bounce .9s infinite ease-in-out}
.loader .dot:nth-child(2){animation-delay:.15s}
.loader .dot:nth-child(3){animation-delay:.30s}
@keyframes bounce{0%,80%,100%{transform:scale(.6);opacity:.6}40%{transform:scale(1);opacity:1}}

/* Header */
.header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,var(--blue),var(--blue2));color:#fff;box-shadow:var(--shadow)}
.header .bar{max-width:1200px;margin:0 auto;display:flex;gap:18px;align-items:center;padding:14px 20px}
.logo{display:flex;align-items:center;gap:10px;font-weight:800}
.logo img{width:40px;height:40px;object-fit:contain}
.nav{display:flex;gap:14px;flex:1;flex-wrap:wrap}
.nav a{padding:8px 10px;border-radius:10px;color:#e6eefb}
.nav a:hover{background:rgba(255,255,255,.12)}
.nav a.active{background:rgba(255,255,255,.18);color:#fff;font-weight:700}
.login-wrap{margin-left:auto}
.login-btn{background:linear-gradient(180deg,#ffd84d,#f0c000);color:#111;font-weight:700;border:none;border-radius:12px;padding:10px 16px;cursor:pointer;box-shadow:0 3px 0 #b69100}

/* Banner (slider) */
.slider{position:relative;height:54vh;min-height:320px;background:#0c2346;display:grid;place-items:center;overflow:hidden}
.slide{position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:opacity .9s ease}
.slide.active{opacity:1}
.slider .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.45))}
.slider .caption{position:relative;z-index:2;color:#fff;text-align:center;padding:0 20px}
.slider h1{font-size:clamp(26px,5vw,44px);margin:0 0 6px}
.slider p{margin:0;opacity:.95}
.ctrl{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.85);border:none;padding:10px 12px;border-radius:10px;cursor:pointer}
.prev{left:14px} .next{right:14px}
.dots{position:absolute;bottom:14px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:3}
.dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,.6);border:1px solid rgba(255,255,255,.9);cursor:pointer}
.dot.active{background:#fff}

/* Sections */
.section{max-width:1100px;margin:36px auto;padding:0 20px}
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
.card{grid-column:span 12;background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);padding:18px}
@media(min-width:900px){.span-4{grid-column:span 4} .span-6{grid-column:span 6}}
.card h3{margin:4px 0 8px} .card p{color:var(--muted)}
.btn{display:inline-block;margin-top:8px;padding:10px 14px;background:var(--accent);color:#fff;border-radius:10px}
.btn:hover{filter:brightness(.95)}

/* Footer */
.footer{margin-top:50px;background:#0e223f;color:#e6eefb}
.footer .inner{max-width:1100px;margin:0 auto;padding:24px 20px}

/* Modal Login */
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.45);backdrop-filter:blur(2px)}
.modal.open{display:grid}
.modal .box{width:min(420px,94vw);background:#fff;border-radius:14px;padding:20px;border:1px solid var(--line);box-shadow:var(--shadow)}
.input{width:100%;padding:12px;border:1px solid var(--line);border-radius:10px;margin-bottom:10px}
.actions{display:flex;gap:10px;justify-content:flex-end}
.outline{background:#fff;border:1px solid var(--line);color:#111}
</style>
</head>
<body>

<!-- LOADER -->
<div id="app-loader" class="loader" aria-hidden="false">
  <div class="box">
    <img class="brand" alt="SIM Contabilidade" src="https://github.com/ClenaStore/santsert/blob/main/paste/Imagem%20do%20WhatsApp%20de%202025-08-20%20%C3%A0(s)%2016.21.40_26238e6c.jpg?raw=true">
    <div class="dots" aria-label="carregando">
      <span class="dot"></span><span class="dot"></span><span class="dot"></span>
    </div>
  </div>
</div>

<header class="header">
  <div class="bar">
    <a class="logo" href="index.html" aria-label="SIM Contabilidade">
      <img src="https://github.com/ClenaStore/santsert/blob/main/paste/Imagem%20do%20WhatsApp%20de%202025-08-20%20%C3%A0(s)%2016.21.40_26238e6c.jpg?raw=true" alt="Logo">
    </a>
    <nav class="nav" aria-label="principal">
      <a class="active" href="index.html">Home</a>
      <a href="empresa.html">Empresa</a>
      <a href="servicos.html">Serviços</a>
      <a href="informacoes.html">Informações</a>
      <a href="contatos.html">Contato</a>
    </nav>
    <div class="login-wrap"><button class="login-btn" onclick="Login.open()">Área do Cliente</button></div>
  </div>
</header>

<!-- Slider -->
<section class="slider" id="slider">
  <div class="overlay"></div>
  <div class="caption">
    <h1>Assessoria contábil completa</h1>
    <p>Abertura/encerramento de empresas • Fiscal • Trabalhista • Consultoria</p>
  </div>
  <button class="ctrl prev" onclick="Slider.prev()">❮</button>
  <button class="ctrl next" onclick="Slider.next()">❯</button>
  <div class="dots" id="dots"></div>
</section>

<section class="section">
  <div class="grid">
    <article class="card span-4"><h3>Contabilidade Gerencial</h3><p>Relatórios e indicadores para decisões assertivas.</p><a class="btn" href="servicos.html">Conhecer serviços</a></article>
    <article class="card span-4"><h3>Planejamento Tributário</h3><p>Pague menos impostos dentro da lei.</p><a class="btn" href="servicos.html#fiscal">Saiba mais</a></article>
    <article class="card span-4"><h3>Área do Cliente</h3><p>Documentos e solicitações personalizadas.</p><button class="btn" onclick="Login.open()">Entrar</button></article>
  </div>
</section>

<footer class="footer"><div class="inner"><small>© <span id="year"></span> SIM Contabilidade</small></div></footer>

<!-- Modal Login -->
<div id="login-modal" class="modal" aria-hidden="true">
  <div class="box" role="dialog" aria-modal="true" aria-label="Login">
    <h2>Área do Cliente</h2>
    <form onsubmit="Login.submit(event)">
      <input class="input" id="login" placeholder="Login" required>
      <input class="input" id="senha" type="password" placeholder="Senha" required>
      <div class="actions">
        <button type="button" class="btn outline" onclick="Login.close()">Cancelar</button>
        <button class="btn" type="submit">Entrar</button>
      </div>
    </form>
  </div>
</div>

<script>
const BANNERS_ENDPOINT = "https://script.google.com/macros/s/SEU_ID/exec"; // <-- troque

// ===== Loader control =====
const Loader = (() => {
  const el = document.getElementById('app-loader');
  const MIN_MS = 2000; // 2 segundos de exibição mínima
  let start = Date.now();
  function show(){ start = Date.now(); el.classList.remove('hidden'); }
  function hide(){
    const remain = Math.max(0, MIN_MS - (Date.now() - start));
    setTimeout(()=> el.classList.add('hidden'), remain);
  }
  return { show, hide };
})();

// ===== Login (modal) =====
const Login = {
  open(){ document.getElementById('login-modal').classList.add('open'); },
  close(){ document.getElementById('login-modal').classList.remove('open'); },
  submit(ev){ ev.preventDefault();
    const u = document.getElementById('login').value;
    const p = document.getElementById('senha').value;
    alert("Autenticar: " + u); // troque por fetch() do seu Apps Script
    Login.close();
  }
};

// ===== Slider =====
const Slider = (() => {
  let images = [], idx = 0, timer=null, hold=false;
  const root = document.getElementById('slider');
  const dots = document.getElementById('dots');

  function render(){
    [...root.querySelectorAll('.slide')].forEach(el=>el.remove());
    dots.innerHTML = '';
    images.forEach((src,i)=>{
      const s = document.createElement('div');
      s.className = 'slide' + (i===idx?' active':'');
      s.style.backgroundImage = `url('${src}')`;
      root.appendChild(s);

      const d = document.createElement('div');
      d.className = 'dot' + (i===idx?' active':'');
      d.onclick = ()=>go(i);
      dots.appendChild(d);
    });
  }

  function go(i){
    idx = (i+images.length)%images.length;
    root.querySelectorAll('.slide').forEach((s,k)=>s.classList.toggle('active',k===idx));
    dots.querySelectorAll('.dot').forEach((d,k)=>d.classList.toggle('active',k===idx));
  }
  function next(){ go(idx+1) }
  function prev(){ go(idx-1) }

  function autoplay(){
    clearInterval(timer);
    timer = setInterval(()=>{ if(!hold) next(); }, 5000);
  }

  function preload(src){
    return new Promise(res=>{
      if(!src) return res();
      const im = new Image();
      im.onload = () => res();
      im.onerror = () => res();
      im.src = src;
    });
  }

  // carrega banners da planilha
  async function load(page){
    Loader.show();
    try{
      const url = `${BANNERS_ENDPOINT}?page=${encodeURIComponent(page)}`;
      const res = await fetch(url);
      const data = await res.json();
      images = Array.isArray(data) && data.length ? data : [
        "https://images.unsplash.com/photo-1554224154-22dec7ec8818?q=80&w=1600&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1523289333742-be1143f6b766?q=80&w=1600&auto=format&fit=crop"
      ];
    }catch(e){
      console.warn("Banners fallback:", e);
      images = [
        "https://images.unsplash.com/photo-1554224154-22dec7ec8818?q=80&w=1600&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1523289333742-be1143f6b766?q=80&w=1600&auto=format&fit=crop"
      ];
    }
    await preload(images[0]); // garante primeira imagem carregada
    render(); autoplay();
    Loader.hide();
  }

  root.addEventListener('mouseenter',()=>hold=true);
  root.addEventListener('mouseleave',()=>hold=false);

  return { next, prev, load };
})();
document.getElementById('year').textContent = new Date().getFullYear();
Slider.load("home");
</script>
</body>
</html>
